# 人脸识别微信前端
* 活体检测
    + 基于tfjs的开源人脸关键点检测项目 face-landmarks-detection
    + 实现的眨眼检测、张嘴检测、左右摇头检测以及上下点头检测
    + 眨眼检测和张嘴检测 参考论文: Real-Time Eye Blink Detection using Facial Landmarks, 通过纵横比判断行为的发生，人脸的远近对检测影响不大，阈值为0.2
    + 头部检测 通过鼻尖的位移进行判断，记录每帧的位置离初始位置的距离(有正负方向)，根据波峰波谷的出现判断行为的发生
    + 检测流程：1.初始化检测器 -> 2.随机抽取一个检测事件 -> 3.记录关键点(每6帧保存一次) -> 4.判断行为是否发生 
        -> 5.否: 检测失败 -> 结束
        -> 6.是: 重复步骤2~4 
        -> 7.再次检测成功 -> 活体检测通过
        -> 8.再次检测失败 -> 结束
    + 另外：每次抽取事件和行为检测成功都会保存一次帧图片(共4张)，活体检测通过后发给服务端，再次比对是否是同一个人，若是则录入

* 效果演示 ![演示](readme/演示.gif)
* [人脸识别模型(训练中)](https://github.com/Yehoar/FaceLib)

* 问题记录：
    + 因为是间隔采样，相机画面和debug的画布存在错位
    + 开发工具中相机画面是镜像的且存在缩放，画布绘制的点不一定吻合，但结果是准确的

        
